# 指针变量的定义

c语言中有两种变量：

1. 值变量（普通变量） 存内容值
2. 地址变量（指针变量） 存地址值

## 定义格式

指针变量的定义格式为 **类型名 *指针变量名**

```c
 // 定义语句
 int a,b,*p1,*p2;
 float x,y,*p3,*p4;
 char s, *p5,*p6;
```

注意点：

1. 不管是值变量，还是指针变量，都必须在声明的时候指定类型名；

2. `*p` 的变量名是`p`。***** 符号并不是变量名的一部分，因为变量名不能包含特殊符号，；

3. 指针变量只能用来存地址，不能将整型值赋值给指针变量；

   （内容变量存内容，指针变量存地址）

   ```c
   int a,b,*p;
   a = 1000;
   b = 2000;
   p = 3000;   // 报错
   ```



## 两个运算符

1. `&` 取地址运算符，取出**普通变量**的地址；

- 优先级二级。
- 运算顺序是从右向左。
- 右侧只能放内容变量。



2. `*` 指针运算符，取出指针变量所指向的内存空间中的值。

- 优先级二级
- 从右向左
- 右侧只能放指针变量。

需要注意的是`*` 在c语言中有三种身份：

1. 乘运算符，比如说`7*8`；
2. 指针声明的标志
3. 指针运算符



`&` 和 `*` 为互逆的操作，`&` 为取出内容变量的地址， `*` 为取出地址变量对应的内容值。

```c
int a,b=20,c=30,d=40, *p;
p=&d;
a=*p;  // 相当于 a=d;
```



```c
// 此段代码正确
int a = 10;
int *P = &a; 

// 此段代码不正确
int a = 10;
int *p;
*p = &a;  // 左侧为内容值，右侧为地址值，故报错
```



注意点：

1. 应该在声明的同时初始化。

   这是以为如果声明时没有初始化，指针是指向内存中的随机区域，很危险

2. 下面的等价表

   ```c
   int a = 20, *p = &a;
   
   // 下面的值均是等价的
   1. &a <=> p
   2. *p <=> a
   3. &(*p) <=> &a <=> p
   4. *(&a) <=> *p <=> a
   5. (*p)++ <=> a++
      (*p)-- <=> a--
      ++(*p) <=> ++a
      --(*p) <=> --a
   ```

3. 所有指针变量在内存中占的字节数相同。 sizeof()

   ```c
   int *p1;
   float *p2;
   double *p3;
   ```

   指针变量存的是房子的地址，至于房子多大，不会影响到房子地址的大小。



例子1

```c
// 参数是地址变量声明
void fun(int *x, int *y){
  printf("%d %d", *x, *y);
  *x = 3;
  *y = 4;
}


main() {
  int x = 1, y = 2;
  fun(&x, &y);
  printf("%d %d",x,y)
}
```



# 指向数组的指针变量

定义指向数组元素的指针变量，和定义指向普通变量的指针变量完全一样

````c
int s[10],a,b;
int b[3][6];
int *p;

// 下面的三行代码都是合法的
p = &a;
p = &s[2];
p = &b[2][4];
````



## 指向一维数组的指针变量

1. c语言中规定，数组名代表数组的首地址，且是一个地址常量。

   ```c
   int s[10];
   
   // 数组名和数组第一个元素的首地址是完全相同的
   s <=> &s[0];
   ```

   当一个指针被赋值为一个数组名时，等价于该指针指向该数组的第一个元素的地址。

   ```c
   int s[10], *p;
   p = s <=> p = &s[0];
   ```

2. 当指针变量指向数组中的某一个元素，指针变量加1，意味着后移动一位，指针变量减1，意味着前移动一位。

   ```c
   float a[10], *p;
   p = &a[4];
   ```

   上面的代码中，p-3指向a[1]的地址。

3. 地址三等价原则，元素四个等价原则

   ```c 
   int a[N], *p = a;
   
   // 地址三等价
   p+i <=> a+i <=> &a[i]
   
   // 元素四等价
   *(p+i) <=> *(a+i) <=> a[i] <=> p[i]
   
   // p[] []是下标运算符，表示向下移动i个位置
   ```

   根据上面的原则，我们可以推导出下面的等价表：

   



























